"use strict";(self.webpackChunkcar_rental_test=self.webpackChunkcar_rental_test||[]).push([[321],{8080:function(n,e,t){t.r(e),t.d(e,{default:function(){return nn}});var r,o,a,i,l,c,s,u,d,h,f,p,x,g=t(5861),m=t(9439),b=t(4687),v=t.n(b),Z=t(2791),w=t(1413),j=t(168),k=t(6088),C=t(1062),S=k.Z.div(r||(r=(0,j.Z)(["\n  width: ",";\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"])),(function(n){return n.width})),M=k.Z.label(o||(o=(0,j.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),y=(0,k.Z)(C.ZP)(a||(a=(0,j.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),B=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),L=function(n){return n.map((function(n){return{value:n,label:n}}))},P=t(184),F=function(n){var e=n.textLabel,t=n.name,r=n.carBrand,o=n.width,a=n.value,i=n.handleChange,l=B.filter((function(n,e,t){return t.indexOf(n)===e})).sort(),c=L(l),s=L(function(){for(var n=[],e=30;e<=500;e+=10)n.push(e);return n}());return(0,P.jsxs)(S,{width:o,children:[(0,P.jsx)(M,{htmlFor:t,children:e}),(0,P.jsx)(y,{id:t,options:r?c:s,value:a,onChange:i,styles:{control:function(n){return(0,w.Z)((0,w.Z)({},n),{},{backgroundColor:"rgba(247, 247, 251, 1)",borderRadius:"14px",border:"none",height:"48px",output:"none"})},dropdownIndicator:function(n,e){return(0,w.Z)((0,w.Z)({},n),{},{transition:"transform 0.5s",transform:e.selectProps.menuIsOpen?"rotate(180deg)":"none"})}}})]})},z=t(948),I=k.Z.form(i||(i=(0,j.Z)(["\n  margin: 0 auto;\n  margin-top: 50px;\n  margin-bottom: 50px;\n  display: flex;\n  justify-content: center;\n  text-align: left;\n  flex-wrap: wrap;\n  gap: 18px;\n"]))),D=k.Z.div(l||(l=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  text-align: left;\n"]))),E=k.Z.div(c||(c=(0,j.Z)(["\n  background-color: ",";\n  display: flex;\n  gap: 1px;\n\n  border: none;\n  border-radius: 14px;\n  overflow: hidden;\n"])),(function(n){return n.theme.colors.bgInputDark})),H=k.Z.div(s||(s=(0,j.Z)(["\n  position: relative;\n"]))),T=k.Z.label(u||(u=(0,j.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),A=k.Z.p(d||(d=(0,j.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  position: absolute;\n  left: 24px;\n  top: 15px;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),$=(0,k.Z)(z.h3)(h||(h=(0,j.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n  background-color: ",";\n  padding-left: ",";\n  width: 160px;\n  height: 48px;\n  border: none;\n  outline: none;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.bgInputLight}),(function(n){return n.padding}),(function(n){return n.theme.colors.textPrimary})),_=k.Z.button(f||(f=(0,j.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color 250ms ease-in-out;\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),N=function(n){var e=n.handleSearchBtn,t=n.isDisabled;return(0,P.jsx)(_,{onClick:e,disabled:t,children:"Search"})},O=k.Z.button(p||(p=(0,j.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n  \n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color 250ms ease-in-out;\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),R=function(n){var e=n.handleClearBtn,t=n.isDisabled;return(0,P.jsx)(O,{onClick:e,disabled:t,children:"Clear"})},G=t(9434),J=t(1634),K=t(7657),U=function(n){var e=n.setShowBtn,t=n.setFiltering,r=(0,G.I0)(),o=(0,Z.useState)({value:"",label:"Enter the text"}),a=(0,m.Z)(o,2),i=a[0],l=a[1],c=(0,Z.useState)({value:"",label:"To $"}),s=(0,m.Z)(c,2),u=s[0],d=s[1],h=(0,Z.useState)(""),f=(0,m.Z)(h,2),p=f[0],x=f[1],g=(0,Z.useState)(""),b=(0,m.Z)(g,2),v=b[0],w=b[1],j=(0,Z.useState)(""),k=(0,m.Z)(j,2),C=k[0],S=k[1],M=(0,Z.useState)(!0),y=(0,m.Z)(M,2),B=y[0],L=y[1];(0,Z.useEffect)((function(){"Enter the text"!==i.label||"To $"!==u.label||""!==v||""!==C?L(!1):L(!0)}),[i,C,v,u]);var z=function(n){var e=n.target.value;switch(n.target.name){case"mileageMin":w(e);break;case"mileageMax":S(e)}};return(0,P.jsxs)(I,{children:[(0,P.jsx)(F,{textLabel:"Car brand",name:"make",carBrand:!0,width:"224px",value:i,handleChange:function(n){l({value:n.value,label:n.value})}}),(0,P.jsx)(F,{textLabel:"Price/ 1 hour",name:"price",width:"125px",value:u,handleChange:function(n){var e="To ".concat(n.value,"$");d({value:e,label:e}),x(n.value)}}),(0,P.jsxs)(D,{children:[(0,P.jsx)(T,{htmlFor:"mileage",children:"Car mileage / km"}),(0,P.jsxs)(E,{children:[(0,P.jsxs)(H,{children:[(0,P.jsx)(A,{children:"From"}),(0,P.jsx)($,{name:"mileageMin",id:"fromMileage",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,padding:"70px",value:v,onChange:z})]}),(0,P.jsxs)(H,{children:[(0,P.jsx)(A,{children:"To"}),(0,P.jsx)($,{name:"mileageMax",id:"toMileage",padding:"48px",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,value:C,onChange:z})]})]})]}),(0,P.jsx)(N,{isDisabled:B,handleSearchBtn:function(n){n.preventDefault();var e={make:i.value.toLowerCase().trim(),price:p||"500",mileageMin:v.split(",").join("")||"0",mileageMax:C.split(",").join("")||"99999"};r((0,J.Tv)(e)),t(!0)}}),(0,P.jsx)(R,{isDisabled:B,handleClearBtn:function(n){n.preventDefault(),r((0,K.fetchCarsFromFirstPage)()),l({value:"",label:"Enter the text"}),d({value:"",label:"To $"}),w(""),S(""),t(!1),e(!0)}})]})},V=t(6029),W=function(n){return n.cars},q=k.Z.button(x||(x=(0,j.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  color: ",";\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: color 250ms ease-in-out;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.accentHover})),Q=function(n){var e=n.currentPage,t=n.setCurrentPage,r=n.setShowBtn,o=(0,G.I0)(),a=function(){var n=(0,g.Z)(v().mark((function n(){var a,i;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o((0,K.fetchAllCars)(e+1));case 2:a=n.sent,i=a.payload,t((function(n){return n+1})),r(!(i<12));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,P.jsx)(q,{onClick:a,children:"Load more"})},X=function(n){return n.filter},Y=function(n,e){return n.filter((function(n){var t=n.rentalPrice,r=n.make,o=n.mileage,a=parseInt(t.replace(/\D+/g,""),10);return r.toLowerCase()===e.make&&a<=e.price&&o>e.mileageMin&&o<e.mileageMax}))},nn=function(){var n=(0,G.I0)(),e=(0,G.v9)(W),t=e.cars,r=e.isLoading,o=(0,G.v9)(X),a=(0,Z.useState)(1),i=(0,m.Z)(a,2),l=i[0],c=i[1],s=(0,Z.useState)(!0),u=(0,m.Z)(s,2),d=u[0],h=u[1],f=(0,Z.useState)(!1),p=(0,m.Z)(f,2),x=p[0],b=p[1],w=(0,Z.useState)([]),j=(0,m.Z)(w,2),k=j[0],C=j[1];return(0,Z.useEffect)((function(){1===l&&(n((0,K.fetchCarsFromFirstPage)()),h(!0))}),[l,n]),(0,Z.useEffect)((function(){x&&(0,g.Z)(v().mark((function e(){var t,r,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,K.fetchAllCarsForFilter)());case 2:return t=e.sent,r=t.payload,e.next=6,Y(r,o);case 6:a=e.sent,C(a);case 8:case"end":return e.stop()}}),e)})))()}),[n,o,x]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(U,{setShowBtn:h,setFiltering:b}),x?k.length>0?(0,P.jsx)(V.H,{data:k}):(0,P.jsx)("p",{children:"Sorry, there\u2019s no vehicle available"}):(0,P.jsx)(V.H,{data:t}),!x&&(r?(0,P.jsx)("div",{children:"Loading cars..."}):d?(0,P.jsx)(Q,{currentPage:l,setCurrentPage:c,setShowBtn:h}):(0,P.jsx)("p",{children:"The end of the list"}))]})}}}]);
//# sourceMappingURL=321.61e4db1f.chunk.js.map