"use strict";(self.webpackChunkcar_rental_test=self.webpackChunkcar_rental_test||[]).push([[720],{1720:function(n,e,t){t.r(e),t.d(e,{default:function(){return tn}});var r,a,o,i,l,c,u,s,d,f,h,g,m,x=t(9439),p=t(2791),b=t(1413),v=t(168),Z=t(6088),k=t(1062),w=Z.Z.div(r||(r=(0,v.Z)(["\n  width: ",";\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"])),(function(n){return n.width})),j=Z.Z.label(a||(a=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),M=(0,Z.Z)(k.ZP)(o||(o=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),C=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),S=function(n){return n.map((function(n){return{value:n,label:n}}))},P=t(184),y=function(n){var e=n.textLabel,t=n.name,r=n.carBrand,a=n.width,o=n.value,i=n.handleChange,l=C.filter((function(n,e,t){return t.indexOf(n)===e})).sort(),c=S(l),u=S(function(){for(var n=[],e=30;e<=500;e+=10)n.push(e);return n}());return(0,P.jsxs)(w,{width:a,children:[(0,P.jsx)(j,{htmlFor:t,children:e}),(0,P.jsx)(M,{id:t,options:r?c:u,value:o,onChange:i,styles:{control:function(n){return(0,b.Z)((0,b.Z)({},n),{},{backgroundColor:"rgba(247, 247, 251, 1)",borderRadius:"14px",border:"none",height:"48px",output:"none"})},dropdownIndicator:function(n,e){return(0,b.Z)((0,b.Z)({},n),{},{transition:"transform 0.5s",transform:e.selectProps.menuIsOpen?"rotate(180deg)":"none"})}}})]})},B=t(948),L=Z.Z.form(i||(i=(0,v.Z)(["\n  margin: 0 auto;\n  margin-top: 50px;\n  margin-bottom: 50px;\n  display: flex;\n  justify-content: center;\n  text-align: left;\n  flex-wrap: wrap;\n  gap: 18px;\n"]))),z=Z.Z.div(l||(l=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  text-align: left;\n"]))),F=Z.Z.div(c||(c=(0,v.Z)(["\n  background-color: ",";\n  display: flex;\n  gap: 1px;\n\n  border: none;\n  border-radius: 14px;\n  overflow: hidden;\n"])),(function(n){return n.theme.colors.bgInputDark})),E=Z.Z.div(u||(u=(0,v.Z)(["\n  position: relative;\n"]))),I=Z.Z.label(s||(s=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),D=Z.Z.p(d||(d=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  position: absolute;\n  left: 21px;\n  top: 15px;\n  pointer-events: none;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),H=(0,Z.Z)(B.h3)(f||(f=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n  background-color: ",";\n  padding-left: ",";\n  width: 160px;\n  height: 48px;\n  border: none;\n  outline: none;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.bgInputLight}),(function(n){return n.padding}),(function(n){return n.theme.colors.textPrimary})),N=Z.Z.button(h||(h=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),A=function(n){var e=n.handleSearchBtn,t=n.isDisabled;return(0,P.jsx)(N,{onClick:e,disabled:t,children:"Search"})},T=Z.Z.button(g||(g=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),$=function(n){var e=n.handleClearBtn,t=n.isDisabled;return(0,P.jsx)(T,{onClick:e,disabled:t,children:"Clear"})},O=t(9434),_=t(7689),R=t(1087),U=function(n){var e=n.make,t=n.rentalPrice,r=n.mileageMin,a=n.mileageMax,o=Object.assign({},null===e||""===e?null:{make:e},null===t||""===t?null:{rentalPrice:t},null===r||""===r?null:{mileageMin:r},null===a||""===a?null:{mileageMax:a});return new URLSearchParams(o).toString()},G=t(7657),J=function(n){var e,t=n.setShowBtn,r=n.setFiltering,a=(0,O.I0)(),o=(0,_.s0)(),i=(0,R.lr)(),l=(0,x.Z)(i,1)[0],c=l.get("make"),u=l.get("rentalPrice"),s=l.get("mileageMin"),d=l.get("mileageMax"),f=(0,p.useState)({value:c,label:"Enter the text"}),h=(0,x.Z)(f,2),g=h[0],m=h[1],b=(0,p.useState)({value:u,label:"To $"}),v=(0,x.Z)(b,2),Z=v[0],k=v[1],w=(e=Z.value)?e.replace(/[^0-9]/g,""):"",j=(0,p.useState)(s),M=(0,x.Z)(j,2),C=M[0],S=M[1],B=(0,p.useState)(d),N=(0,x.Z)(B,2),T=N[0],J=N[1],K=(0,p.useState)(!0),V=(0,x.Z)(K,2),W=V[0],q=V[1];(0,p.useEffect)((function(){"Enter the text"!==g.label||"To $"!==Z.label||""!==C&&null!==C||""!==T&&null!==T?q(!1):q(!0)}),[g,T,C,Z]);var Q=function(n){var e=n.target.value;switch(n.target.name){case"mileageMin":S(e);break;case"mileageMax":J(e)}};return(0,P.jsxs)(L,{children:[(0,P.jsx)(y,{textLabel:"Car brand",name:"make",carBrand:!0,width:"224px",value:g,handleChange:function(n){m({value:n.value,label:n.value})}}),(0,P.jsx)(y,{textLabel:"Price/ 1 hour",name:"price",width:"125px",value:Z,handleChange:function(n){var e="To ".concat(n.value,"$");k({value:e,label:e})}}),(0,P.jsxs)(z,{children:[(0,P.jsx)(I,{htmlFor:"mileage",children:"Car mileage / km"}),(0,P.jsxs)(F,{children:[(0,P.jsxs)(E,{children:[(0,P.jsx)(D,{children:"From"}),(0,P.jsx)(H,{name:"mileageMin",id:"fromMileage",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,padding:"67px",value:C,onChange:Q})]}),(0,P.jsxs)(E,{children:[(0,P.jsx)(D,{children:"To"}),(0,P.jsx)(H,{name:"mileageMax",id:"toMileage",padding:"45px",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,value:T,onChange:Q})]})]})]}),(0,P.jsx)(A,{isDisabled:W,handleSearchBtn:function(n){var e;if(n.preventDefault(),c!==g.value||u!==w||s!==C||d!==T){var a=U({make:(null===g||void 0===g||null===(e=g.value)||void 0===e?void 0:e.toLowerCase())||"",rentalPrice:w,mileageMin:C&&C.split(",").join(""),mileageMax:T&&T.split(",").join("")});r(!0),o(a?"?".concat(a):""),t(!1)}}}),(0,P.jsx)($,{isDisabled:W,handleClearBtn:function(n){n.preventDefault(),a((0,G.fetchFirstPage)()),m({value:"",label:"Enter the text"}),k({value:"",label:"To $"}),S(""),J(""),r(!1),t(!0);var e=U({make:null,rentalPrice:null,mileageMin:null,mileageMax:null});o("?".concat(e))}})]})},K=t(6029),V=function(n){return n.cars},W=t(5861),q=t(4687),Q=t.n(q),X=Z.Z.button(m||(m=(0,v.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  color: ",";\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: transform 0.5s, color ","\n    ",";\n\n  &:hover {\n    color: ",";\n    transform: scale(1.2);\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.accentHover})),Y=function(n){var e=n.currentPage,t=n.setCurrentPage,r=n.setShowBtn,a=(0,O.I0)(),o=function(){var n=(0,W.Z)(Q().mark((function n(){var o,i;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a((0,G.fetchAllCars)(e+1));case 2:o=n.sent,i=o.payload,t((function(n){return n+1})),i.length<12?r(!1):r(!0);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,P.jsx)(X,{onClick:o,children:"Load more"})},nn=t(3433),en=t(748),tn=function(){var n=(0,O.I0)(),e=(0,O.v9)(V),t=e.cars,r=e.isLoading,a=(0,p.useState)(1),o=(0,x.Z)(a,2),i=o[0],l=o[1],c=(0,p.useState)(!0),u=(0,x.Z)(c,2),s=u[0],d=u[1],f=(0,p.useState)(!1),h=(0,x.Z)(f,2),g=h[0],m=h[1],b=(0,p.useState)([]),v=(0,x.Z)(b,2),Z=v[0],k=v[1],w=(0,R.lr)(),j=(0,x.Z)(w,1)[0],M=j.get("make"),C=j.get("rentalPrice"),S=j.get("mileageMin"),y=j.get("mileageMax");return(0,p.useEffect)((function(){1===i&&(n((0,G.fetchFirstPage)()),d(!0))}),[i,n]),(0,p.useEffect)((function(){(M||C||S||y)&&m(!0)}),[M,C,S,y]),(0,p.useEffect)((function(){(g||M||C||S||y)&&n((0,G.fetchAllCarsForFilter)())}),[M,C,S,y,n,g]),(0,p.useEffect)((function(){if(g){var n=function(n,e){var t=e.make,r=e.rentalPrice,a=e.mileageMin,o=e.mileageMax;if(!t&&!r&&!a&&!o&&0===n.length)return n;var i=t?n.filter((function(n){return n.make.toLowerCase()===t})):(0,nn.Z)(n),l=r?i.filter((function(n){return Number(n.rentalPrice.replace("$",""))<=Number(r)})):(0,nn.Z)(i),c=a?l.filter((function(n){return Number(n.mileage)>=a})):(0,nn.Z)(l),u=o?c.filter((function(n){return Number(n.mileage)<=o})):(0,nn.Z)(c);return console.log(l),u}(t,{make:M,rentalPrice:C,mileageMin:S,mileageMax:y});k(n),d(!1)}}),[t,g,M,y,S,C]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(J,{setShowBtn:d,setFiltering:m}),g?Z.length>0?(0,P.jsx)(K.H,{data:Z}):(0,P.jsx)("p",{children:"Sorry, there\u2019s no vehicle available"}):(0,P.jsx)(K.H,{data:t}),r&&(0,P.jsx)(en.a,{}),s&&!r&&(0,P.jsx)(Y,{currentPage:i,setCurrentPage:l,setShowBtn:d})]})}}}]);
//# sourceMappingURL=720.5fb9b1e4.chunk.js.map