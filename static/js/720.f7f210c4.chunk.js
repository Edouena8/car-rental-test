"use strict";(self.webpackChunkcar_rental_test=self.webpackChunkcar_rental_test||[]).push([[720],{1720:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r,o,a,i,l,c,u,s,d,h,f,g,m,x=t(9439),p=t(2791),b=t(1413),v=t(168),Z=t(6088),k=t(1062),j=Z.Z.div(r||(r=(0,v.Z)(["\n  width: ",";\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"])),(function(n){return n.width})),w=Z.Z.label(o||(o=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),M=(0,Z.Z)(k.ZP)(a||(a=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),C=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),S=function(n){return n.map((function(n){return{value:n,label:n}}))},P=t(184),B=function(n){var e=n.textLabel,t=n.name,r=n.carBrand,o=n.width,a=n.value,i=n.handleChange,l=C.filter((function(n,e,t){return t.indexOf(n)===e})).sort(),c=S(l),u=S(function(){for(var n=[],e=30;e<=500;e+=10)n.push(e);return n}());return(0,P.jsxs)(j,{width:o,children:[(0,P.jsx)(w,{htmlFor:t,children:e}),(0,P.jsx)(M,{id:t,options:r?c:u,value:a,onChange:i,styles:{control:function(n){return(0,b.Z)((0,b.Z)({},n),{},{backgroundColor:"rgba(247, 247, 251, 1)",borderRadius:"14px",border:"none",height:"48px",output:"none"})},dropdownIndicator:function(n,e){return(0,b.Z)((0,b.Z)({},n),{},{transition:"transform 0.5s",transform:e.selectProps.menuIsOpen?"rotate(180deg)":"none"})}}})]})},L=t(948),y=Z.Z.form(i||(i=(0,v.Z)(["\n  margin: 0 auto;\n  margin-top: 50px;\n  margin-bottom: 50px;\n  display: flex;\n  justify-content: center;\n  text-align: left;\n  flex-wrap: wrap;\n  gap: 18px;\n"]))),z=Z.Z.div(l||(l=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  text-align: left;\n"]))),E=Z.Z.div(c||(c=(0,v.Z)(["\n  background-color: ",";\n  display: flex;\n  gap: 1px;\n\n  border: none;\n  border-radius: 14px;\n  overflow: hidden;\n"])),(function(n){return n.theme.colors.bgInputDark})),I=Z.Z.div(u||(u=(0,v.Z)(["\n  position: relative;\n"]))),F=Z.Z.label(s||(s=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),A=Z.Z.p(d||(d=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  position: absolute;\n  left: 21px;\n  top: 15px;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),D=(0,Z.Z)(L.h3)(h||(h=(0,v.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n  background-color: ",";\n  padding-left: ",";\n  width: 160px;\n  height: 48px;\n  border: none;\n  outline: none;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.bgInputLight}),(function(n){return n.padding}),(function(n){return n.theme.colors.textPrimary})),H=Z.Z.button(f||(f=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),N=function(n){var e=n.handleSearchBtn,t=n.isDisabled;return(0,P.jsx)(H,{onClick:e,disabled:t,children:"Search"})},T=Z.Z.button(g||(g=(0,v.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),$=function(n){var e=n.handleClearBtn,t=n.isDisabled;return(0,P.jsx)(T,{onClick:e,disabled:t,children:"Clear"})},O=t(9434),_=t(7689),R=t(1087),W=t(8649),U=function(n){var e=n.make,t=n.rentalPrice,r=n.mileageMin,o=n.mileageMax,a=Object.assign({},null===e||""===e?null:{make:e},null===t||""===t?null:{rentalPrice:t},null===r||""===r?null:{mileageMin:r},null===o||""===o?null:{mileageMax:o});return new URLSearchParams(a).toString()},G=t(7657),J=function(n){return n.cars},K=function(n){var e,t=n.setShowBtn,r=n.setFiltering,o=(0,O.I0)(),a=(0,_.s0)(),i=(0,O.v9)(J).currentPage,l=(0,R.lr)(),c=(0,x.Z)(l,1)[0],u=c.get("make"),s=c.get("rentalPrice"),d=c.get("mileageMin"),h=c.get("mileageMax"),f=(0,p.useState)({value:u,label:"Enter the text"}),g=(0,x.Z)(f,2),m=g[0],b=g[1],v=(0,p.useState)({value:s,label:"To $"}),Z=(0,x.Z)(v,2),k=Z[0],j=Z[1],w=(e=k.value)?e.replace(/[^0-9]/g,""):"",M=(0,p.useState)(d),C=(0,x.Z)(M,2),S=C[0],L=C[1],H=(0,p.useState)(h),T=(0,x.Z)(H,2),K=T[0],V=T[1],q=(0,p.useState)(!0),Q=(0,x.Z)(q,2),X=Q[0],Y=Q[1];console.log(w),console.log(w),(0,p.useEffect)((function(){"Enter the text"!==m.label||"To $"!==k.label||null!==S||null!==K?Y(!1):Y(!0)}),[m,K,S,k]);var nn=function(n){var e=n.target.value;switch(n.target.name){case"mileageMin":L(e);break;case"mileageMax":V(e)}};return(0,P.jsxs)(y,{children:[(0,P.jsx)(B,{textLabel:"Car brand",name:"make",carBrand:!0,width:"224px",value:m,handleChange:function(n){b({value:n.value,label:n.value})}}),(0,P.jsx)(B,{textLabel:"Price/ 1 hour",name:"price",width:"125px",value:k,handleChange:function(n){var e="To ".concat(n.value,"$");j({value:e,label:e})}}),(0,P.jsxs)(z,{children:[(0,P.jsx)(F,{htmlFor:"mileage",children:"Car mileage / km"}),(0,P.jsxs)(E,{children:[(0,P.jsxs)(I,{children:[(0,P.jsx)(A,{children:"From"}),(0,P.jsx)(D,{name:"mileageMin",id:"fromMileage",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,padding:"67px",value:S,onChange:nn})]}),(0,P.jsxs)(I,{children:[(0,P.jsx)(A,{children:"To"}),(0,P.jsx)(D,{name:"mileageMax",id:"toMileage",padding:"45px",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,value:K,onChange:nn})]})]})]}),(0,P.jsx)(N,{isDisabled:X,handleSearchBtn:function(n){var e;if(n.preventDefault(),u!==m.value||s!==w||d!==S||h!==K){var i=U({make:(null===m||void 0===m||null===(e=m.value)||void 0===e?void 0:e.toLowerCase())||"",rentalPrice:w,mileageMin:S&&S.split(",").join(""),mileageMax:K&&K.split(",").join("")});o((0,W.Wh)()),r(!0),a(i?"?".concat(i):""),t(!1)}}}),(0,P.jsx)($,{isDisabled:X,handleClearBtn:function(n){n.preventDefault(),o((0,G.fetchAllCars)(i)),b({value:"",label:"Enter the text"}),j({value:"",label:"To $"}),L(""),V(""),r(!1),t(!0);var e=U({make:null,rentalPrice:null,mileageMin:null,mileageMax:null});a("?".concat(e))}})]})},V=t(6029),q=Z.Z.button(m||(m=(0,v.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  color: ",";\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: color ","\n    ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.accentHover})),Q=function(n){var e=n.setShowBtn,t=(0,O.I0)(),r=(0,O.v9)(J),o=r.cars,a=r.currentPage;return(0,P.jsx)(q,{onClick:function(){t((0,W.hW)()),console.log(o.length/a),o.length/a<12?e(!1):e(!0)},children:"Load more"})},X=t(3433),Y=function(){var n=(0,O.I0)(),e=(0,O.v9)(J),t=e.cars,r=e.isLoading,o=e.currentPage,a=(0,p.useState)(!0),i=(0,x.Z)(a,2),l=i[0],c=i[1],u=(0,p.useState)(!1),s=(0,x.Z)(u,2),d=s[0],h=s[1],f=(0,p.useState)([]),g=(0,x.Z)(f,2),m=g[0],b=g[1],v=(0,R.lr)(),Z=(0,x.Z)(v,1)[0],k=Z.get("make"),j=Z.get("rentalPrice"),w=Z.get("mileageMin"),M=Z.get("mileageMax");return(0,p.useEffect)((function(){n((0,G.fetchAllCars)(o))}),[o,n]),(0,p.useEffect)((function(){(k||j||w||M)&&h(!0)}),[k,j,w,M]),(0,p.useEffect)((function(){(d||k||j||w||M)&&n((0,G.fetchAllCarsForFilter)())}),[k,j,w,M,n,d]),(0,p.useEffect)((function(){if(d){var n=function(n,e){var t=e.make,r=e.rentalPrice,o=e.mileageMin,a=e.mileageMax;if(!t&&!r&&!o&&!a&&0===n.length)return n;var i=t?n.filter((function(n){return n.make.toLowerCase()===t})):(0,X.Z)(n),l=r?i.filter((function(n){return Number(n.rentalPrice.replace("$",""))<=Number(r)})):(0,X.Z)(i),c=o?l.filter((function(n){return Number(n.mileage)>=o})):(0,X.Z)(l),u=a?c.filter((function(n){return Number(n.mileage)<=a})):(0,X.Z)(c);return console.log(l),u}(t,{make:k,rentalPrice:j,mileageMin:w,mileageMax:M});b(n),c(!1)}}),[t,d,k,M,w,j]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(K,{setShowBtn:c,setFiltering:h}),d?m.length>0?(0,P.jsx)(V.H,{data:m}):(0,P.jsx)("p",{children:"Sorry, there\u2019s no vehicle available"}):(0,P.jsx)(V.H,{data:t}),r&&(0,P.jsx)("div",{children:"Loading cars..."}),l&&!r&&(0,P.jsx)(Q,{currentPage:o,setShowBtn:c})]})}}}]);
//# sourceMappingURL=720.f7f210c4.chunk.js.map