"use strict";(self.webpackChunkcar_rental_test=self.webpackChunkcar_rental_test||[]).push([[321],{8080:function(n,e,r){r.r(e),r.d(e,{default:function(){return q}});var t,a,o,i,l,s,u,c,d,h,f,g=r(5861),p=r(9439),x=r(4687),b=r.n(x),v=r(2791),m=r(1413),Z=r(168),j=r(225),k=r(1062),C=j.Z.div(t||(t=(0,Z.Z)(["\n  width: ",";\n"])),(function(n){return n.width})),w=(0,j.Z)(k.ZP)(a||(a=(0,Z.Z)([""]))),S=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),M=function(n){return n.map((function(n){return{value:n,label:n}}))},B=r(184),L=function(n){var e=n.textLabel,r=n.name,t=n.carBrand,a=n.width,o=n.value,i=n.handleChange,l=S.filter((function(n,e,r){return r.indexOf(n)===e})).sort(),s=M(l),u=M(function(){for(var n=[],e=30;e<=500;e+=10)n.push(e);return n}());return(0,B.jsxs)(C,{width:a,children:[(0,B.jsx)("label",{htmlFor:r,children:e}),(0,B.jsx)(w,{id:r,options:t?s:u,value:o,onChange:i,styles:{control:function(n){return(0,m.Z)((0,m.Z)({},n),{},{backgroundColor:"rgba(247, 247, 251, 1)",borderRadius:"14px",border:"none",height:"48px",output:"none"})},dropdownIndicator:function(n,e){return(0,m.Z)((0,m.Z)({},n),{},{transition:"transform 0.5s",transform:e.selectProps.menuIsOpen?"rotate(180deg)":"none"})}}})]})},F=r(948),y=j.Z.form(o||(o=(0,Z.Z)(["\n  margin-bottom: 50px;\n  margin: 0 auto;\n  margin-bottom: 50px;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 18px;\n"]))),P=j.Z.div(i||(i=(0,Z.Z)(["\n  text-align: left;\n"]))),I=j.Z.div(l||(l=(0,Z.Z)(["\n  background-color: rgba(138, 138, 137, 0.2);\n  display: flex;\n  gap: 1px;\n\n  border: none;\n  border-radius: 14px;\n  overflow: hidden;\n"]))),D=j.Z.div(s||(s=(0,Z.Z)(["\n  position: relative;\n"]))),E=j.Z.p(u||(u=(0,Z.Z)(["\n  position: absolute;\n  left: 24px;\n  top: 15px;\n"]))),T=(0,j.Z)(F.h3)(c||(c=(0,Z.Z)(["\n  background-color: rgba(247, 247, 251, 1);\n  padding-left: ",";\n  width: 160px;\n  height: 48px;\n  border: none;\n  outline: none;\n"])),(function(n){return n.padding})),A=j.Z.button(d||(d=(0,Z.Z)(["\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: rgba(52, 112, 255, 1);\n  transition: background-color 250ms ease-in-out;\n  color: #fff;\n\n  &:hover {\n    background-color: rgba(11, 68, 205, 1);\n  }\n\n  &:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n"]))),H=function(n){var e=n.handleSearchBtn,r=n.isDisabled;return(0,B.jsx)(A,{onClick:e,disabled:r,children:"Search"})},$=j.Z.button(h||(h=(0,Z.Z)(["\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: rgba(52, 112, 255, 1);\n  transition: background-color 250ms ease-in-out;\n  color: #fff;\n\n  &:hover {\n    background-color: rgba(11, 68, 205, 1);\n  }\n\n  &:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n"]))),_=function(n){var e=n.handleClearBtn,r=n.isDisabled;return(0,B.jsx)($,{onClick:e,disabled:r,children:"Clear"})},z=r(9434),N=r(1634),O=r(7657),R=function(n){var e=n.setShowBtn,r=n.setFiltering,t=(0,z.I0)(),a=(0,v.useState)({value:"",label:"Enter the text"}),o=(0,p.Z)(a,2),i=o[0],l=o[1],s=(0,v.useState)({value:"",label:"To $"}),u=(0,p.Z)(s,2),c=u[0],d=u[1],h=(0,v.useState)(""),f=(0,p.Z)(h,2),g=f[0],x=f[1],b=(0,v.useState)(""),m=(0,p.Z)(b,2),Z=m[0],j=m[1],k=(0,v.useState)(""),C=(0,p.Z)(k,2),w=C[0],S=C[1],M=(0,v.useState)(!0),F=(0,p.Z)(M,2),A=F[0],$=F[1];(0,v.useEffect)((function(){"Enter the text"!==i.label||"To $"!==c.label||""!==Z||""!==w?$(!1):$(!0)}),[i,w,Z,c]);var R=function(n){var e=n.target.value;switch(n.target.name){case"mileageMin":j(e);break;case"mileageMax":S(e)}};return(0,B.jsxs)(y,{children:[(0,B.jsx)(L,{textLabel:"Car brand",name:"make",carBrand:!0,width:"224px",value:i,handleChange:function(n){l({value:n.value,label:n.value})}}),(0,B.jsx)(L,{textLabel:"Price/ 1 hour",name:"price",width:"125px",value:c,handleChange:function(n){var e="To ".concat(n.value,"$");d({value:e,label:e}),x(n.value)}}),(0,B.jsxs)(P,{children:[(0,B.jsx)("label",{htmlFor:"mileage",children:"Car mileage / km"}),(0,B.jsxs)(I,{children:[(0,B.jsxs)(D,{children:[(0,B.jsx)(E,{children:"From"}),(0,B.jsx)(T,{name:"mileageMin",id:"fromMileage",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,padding:"67px",value:Z,onChange:R})]}),(0,B.jsxs)(D,{children:[(0,B.jsx)(E,{children:"To"}),(0,B.jsx)(T,{name:"mileageMax",id:"toMileage",padding:"45px",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,value:w,onChange:R})]})]})]}),(0,B.jsx)(H,{isDisabled:A,handleSearchBtn:function(n){n.preventDefault();var e={make:i.value.toLowerCase().trim(),price:g||"500",mileageMin:Z.split(",").join("")||"0",mileageMax:w.split(",").join("")||"99999"};t((0,N.Tv)(e)),r(!0)}}),(0,B.jsx)(_,{isDisabled:A,handleClearBtn:function(n){n.preventDefault(),t((0,O.fetchCarsFromFirstPage)()),l({value:"",label:"Enter the text"}),d({value:"",label:"To $"}),j(""),S(""),r(!1),e(!0)}})]})},G=r(2367),J=function(n){return n.cars},K=j.Z.button(f||(f=(0,Z.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  color: rgba(52, 112, 255, 1);\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: color 250ms ease-in-out;\n\n  &:hover {\n    color: rgba(11, 68, 205, 1);\n  }\n"]))),U=function(n){var e=n.currentPage,r=n.setCurrentPage,t=n.setShowBtn,a=(0,z.I0)(),o=function(){var n=(0,g.Z)(b().mark((function n(){var o,i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a((0,O.fetchAllCars)(e+1));case 2:o=n.sent,i=o.payload,r((function(n){return n+1})),t(!(i<12));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,B.jsx)(K,{onClick:o,children:"Load more"})},V=function(n){return n.filter},W=function(n,e){return n.filter((function(n){var r=n.rentalPrice,t=n.make,a=n.mileage,o=parseInt(r.replace(/\D+/g,""),10);return t.toLowerCase()===e.make&&o<=e.price&&a>e.mileageMin&&a<e.mileageMax}))},q=function(){var n=(0,z.I0)(),e=(0,z.v9)(J),r=e.cars,t=e.isLoading,a=(0,z.v9)(V),o=(0,v.useState)(1),i=(0,p.Z)(o,2),l=i[0],s=i[1],u=(0,v.useState)(!0),c=(0,p.Z)(u,2),d=c[0],h=c[1],f=(0,v.useState)(!1),x=(0,p.Z)(f,2),m=x[0],Z=x[1],j=(0,v.useState)([]),k=(0,p.Z)(j,2),C=k[0],w=k[1];return(0,v.useEffect)((function(){1===l&&(n((0,O.fetchCarsFromFirstPage)()),h(!0))}),[l,n]),(0,v.useEffect)((function(){m&&(0,g.Z)(b().mark((function e(){var r,t,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,O.fetchAllCarsForFilter)());case 2:return r=e.sent,t=r.payload,e.next=6,W(t,a);case 6:o=e.sent,w(o);case 8:case"end":return e.stop()}}),e)})))()}),[n,a,m]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(R,{setShowBtn:h,setFiltering:Z}),m?C.length>0?(0,B.jsx)(G.H,{data:C}):(0,B.jsx)("p",{children:"Sorry, there\u2019s no vehicle available"}):(0,B.jsx)(G.H,{data:r}),!m&&(t?(0,B.jsx)("div",{children:"Loading cars..."}):d?(0,B.jsx)(U,{currentPage:l,setCurrentPage:s,setShowBtn:h}):(0,B.jsx)("p",{children:"The end of the list"}))]})}}}]);
//# sourceMappingURL=321.e543af5e.chunk.js.map