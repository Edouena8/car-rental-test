"use strict";(self.webpackChunkcar_rental_test=self.webpackChunkcar_rental_test||[]).push([[73],{8073:function(n,e,t){t.r(e),t.d(e,{default:function(){return ln}});var r,o,a,i,l,c,u,s,d,h,f,g,x,m,p=t(9439),b=t(2791),v=t(1413),Z=t(168),w=t(6088),j=t(1062),k=w.Z.div(r||(r=(0,Z.Z)(["\n  width: ",";\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"])),(function(n){return n.width})),M=w.Z.label(o||(o=(0,Z.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),C=(0,w.Z)(j.ZP)(a||(a=(0,Z.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),S=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),P=function(n){return n.map((function(n){return{value:n,label:n}}))},y=t(184),B=function(n){var e=n.textLabel,t=n.name,r=n.carBrand,o=n.width,a=n.value,i=n.handleChange,l=S.filter((function(n,e,t){return t.indexOf(n)===e})).sort(),c=P(l),u=P(function(){for(var n=[],e=30;e<=500;e+=10)n.push(e);return n}());return(0,y.jsxs)(k,{width:o,children:[(0,y.jsx)(M,{htmlFor:t,children:e}),(0,y.jsx)(C,{id:t,options:r?c:u,value:a,onChange:i,styles:{control:function(n){return(0,v.Z)((0,v.Z)({},n),{},{backgroundColor:"rgba(247, 247, 251, 1)",borderRadius:"14px",border:"none",height:"48px",output:"none"})},dropdownIndicator:function(n,e){return(0,v.Z)((0,v.Z)({},n),{},{transition:"transform 0.5s",transform:e.selectProps.menuIsOpen?"rotate(180deg)":"none"})}}})]})},L=t(948),z=w.Z.form(i||(i=(0,Z.Z)(["\n  margin: 0 auto;\n  margin-top: 50px;\n  margin-bottom: 50px;\n  display: flex;\n  justify-content: center;\n  text-align: left;\n  flex-wrap: wrap;\n  gap: 18px;\n"]))),E=w.Z.div(l||(l=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  text-align: left;\n"]))),F=w.Z.div(c||(c=(0,Z.Z)(["\n  background-color: ",";\n  display: flex;\n  gap: 1px;\n\n  border: none;\n  border-radius: 14px;\n  overflow: hidden;\n"])),(function(n){return n.theme.colors.bgInputDark})),I=w.Z.div(u||(u=(0,Z.Z)(["\n  position: relative;\n"]))),D=w.Z.label(s||(s=(0,Z.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n  font-height: calc(18 / 14);\n  color: ",";\n"])),(function(n){return n.theme.colors.label})),H=w.Z.p(d||(d=(0,Z.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n\n  position: absolute;\n  left: 21px;\n  top: 15px;\n  pointer-events: none;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.textPrimary})),N=(0,w.Z)(L.h3)(h||(h=(0,Z.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  font-height: calc(20 / 18);\n  background-color: ",";\n  padding-left: ",";\n  width: 160px;\n  height: 48px;\n  border: none;\n  outline: none;\n\n  color: ",";\n"])),(function(n){return n.theme.colors.bgInputLight}),(function(n){return n.padding}),(function(n){return n.theme.colors.textPrimary})),T=w.Z.button(f||(f=(0,Z.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),A=function(n){var e=n.handleSearchBtn,t=n.isDisabled;return(0,y.jsx)(T,{onClick:e,disabled:t,children:"Search"})},$=w.Z.button(g||(g=(0,Z.Z)(["\n  font-size: 14px;\n  font-weight: 600;\n  line-height: calc(20 / 14);\n\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  transition: background-color ","\n    ",";\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    cursor: not-allowed;\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.textAdditional}),(function(n){return n.theme.colors.accentHover}),(function(n){return n.theme.colors.disabled})),O=function(n){var e=n.handleClearBtn,t=n.isDisabled;return(0,y.jsx)($,{onClick:e,disabled:t,children:"Clear"})},_=t(9434),R=t(7689),U=t(1087),G=function(n){var e=n.make,t=n.rentalPrice,r=n.mileageMin,o=n.mileageMax,a=Object.assign({},null===e||""===e?null:{make:e},null===t||""===t?null:{rentalPrice:t},null===r||""===r?null:{mileageMin:r},null===o||""===o?null:{mileageMax:o});return new URLSearchParams(a).toString()},J=t(7657),K=function(n){var e,t=n.setShowBtn,r=n.setFiltering,o=(0,_.I0)(),a=(0,R.s0)(),i=(0,U.lr)(),l=(0,p.Z)(i,1)[0],c=l.get("make"),u=l.get("rentalPrice"),s=l.get("mileageMin"),d=l.get("mileageMax"),h=(0,b.useState)({value:c,label:"Enter the text"}),f=(0,p.Z)(h,2),g=f[0],x=f[1],m=(0,b.useState)({value:u,label:"To $"}),v=(0,p.Z)(m,2),Z=v[0],w=v[1],j=(e=Z.value)?e.replace(/[^0-9]/g,""):"",k=(0,b.useState)(s),M=(0,p.Z)(k,2),C=M[0],S=M[1],P=(0,b.useState)(d),L=(0,p.Z)(P,2),T=L[0],$=L[1],K=(0,b.useState)(!0),V=(0,p.Z)(K,2),W=V[0],q=V[1];(0,b.useEffect)((function(){"Enter the text"!==g.label||"To $"!==Z.label||""!==C&&null!==C||""!==T&&null!==T?q(!1):q(!0)}),[g,T,C,Z]);var Q=function(n){var e=n.target.value;switch(n.target.name){case"mileageMin":S(e);break;case"mileageMax":$(e)}};return(0,y.jsxs)(z,{children:[(0,y.jsx)(B,{textLabel:"Car brand",name:"make",carBrand:!0,width:"224px",value:g,handleChange:function(n){x({value:n.value,label:n.value})}}),(0,y.jsx)(B,{textLabel:"Price/ 1 hour",name:"price",width:"125px",value:Z,handleChange:function(n){var e="To ".concat(n.value,"$");w({value:e,label:e})}}),(0,y.jsxs)(E,{children:[(0,y.jsx)(D,{htmlFor:"mileage",children:"Car mileage / km"}),(0,y.jsxs)(F,{children:[(0,y.jsxs)(I,{children:[(0,y.jsx)(H,{children:"From"}),(0,y.jsx)(N,{name:"mileageMin",id:"fromMileage",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,padding:"67px",value:C,onChange:Q})]}),(0,y.jsxs)(I,{children:[(0,y.jsx)(H,{children:"To"}),(0,y.jsx)(N,{name:"mileageMax",id:"toMileage",padding:"45px",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,value:T,onChange:Q})]})]})]}),(0,y.jsx)(A,{isDisabled:W,handleSearchBtn:function(n){var e;if(n.preventDefault(),c!==g.value||u!==j||s!==C||d!==T){var o=G({make:(null===g||void 0===g||null===(e=g.value)||void 0===e?void 0:e.toLowerCase())||"",rentalPrice:j,mileageMin:C&&C.split(",").join(""),mileageMax:T&&T.split(",").join("")});r(!0),a(o?"?".concat(o):""),t(!1)}}}),(0,y.jsx)(O,{isDisabled:W,handleClearBtn:function(n){n.preventDefault(),o((0,J.fetchFirstPage)()),x({value:"",label:"Enter the text"}),w({value:"",label:"To $"}),S(""),$(""),r(!1),t(!0);var e=G({make:null,rentalPrice:null,mileageMin:null,mileageMax:null});a("?".concat(e))}})]})},V=t(6029),W=function(n){return n.cars},q=t(5861),Q=t(4687),X=t.n(Q),Y=w.Z.button(x||(x=(0,Z.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  color: ",";\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: transform 0.5s, color ","\n    ",";\n\n  &:hover {\n    color: ",";\n    transform: scale(1.2);\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.transition.time}),(function(n){return n.theme.transition.cubic}),(function(n){return n.theme.colors.accentHover})),nn=function(n){var e=n.currentPage,t=n.setCurrentPage,r=n.setShowBtn,o=(0,_.I0)(),a=function(){var n=(0,q.Z)(X().mark((function n(){var a,i;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o((0,J.fetchAllCars)(e+1));case 2:a=n.sent,i=a.payload,t((function(n){return n+1})),i.length<12?r(!1):r(!0);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,y.jsx)(Y,{onClick:a,children:"Load more"})},en=t(3433),tn=t(748),rn=t(9135),on=w.Z.div(m||(m=(0,Z.Z)(["\n  position: fixed;\n\n  //   bottom: 100px;\n  //   right: 5%;\n  //   box-shadow: 0 0 14px -5px rgba(0, 0, 0, 5);\n  //   border-radius: 100%;\n  //   width: 80px;\n  //   height: 80px;\n  //   display: flex;\n  //   align-items: center;\n  //   justify-content: center;\n  //   cursor: pointer;\n  //   transition: 0.5s;\n\n  width: 100%;\n  bottom: 100px;\n  right: 5%;\n  height: 80px;\n  width: 80px;\n  font-size: 5rem;\n  z-index: 1;\n  border-radius: 100%;\n  color: rgba(189, 195, 199, 1);\n  box-shadow: 0 0 14px -5px rgba(0, 0, 0, 5);\n  cursor: pointer;\n  transition: 0.5s;\n\n  &:hover {\n    color: ",";\n    transform: scale(1.2);\n  }\n"])),(function(n){return n.theme.colors.accent})),an=function(){var n=(0,b.useState)(!1),e=(0,p.Z)(n,2),t=e[0],r=e[1];return window.addEventListener("scroll",(function(){var n=document.documentElement.scrollTop;n>300?r(!0):n<=300&&r(!1)})),(0,y.jsx)(on,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{display:t?"inline":"none"},children:(0,y.jsx)(rn.nbd,{})})},ln=function(){var n=(0,_.I0)(),e=(0,_.v9)(W),t=e.cars,r=e.isLoading,o=(0,b.useState)(1),a=(0,p.Z)(o,2),i=a[0],l=a[1],c=(0,b.useState)(!0),u=(0,p.Z)(c,2),s=u[0],d=u[1],h=(0,b.useState)(!1),f=(0,p.Z)(h,2),g=f[0],x=f[1],m=(0,b.useState)([]),v=(0,p.Z)(m,2),Z=v[0],w=v[1],j=(0,U.lr)(),k=(0,p.Z)(j,1)[0],M=k.get("make"),C=k.get("rentalPrice"),S=k.get("mileageMin"),P=k.get("mileageMax");return(0,b.useEffect)((function(){1===i&&(n((0,J.fetchFirstPage)()),d(!0))}),[i,n]),(0,b.useEffect)((function(){(M||C||S||P)&&x(!0)}),[M,C,S,P]),(0,b.useEffect)((function(){(g||M||C||S||P)&&n((0,J.fetchAllCarsForFilter)())}),[M,C,S,P,n,g]),(0,b.useEffect)((function(){if(g){var n=function(n,e){var t=e.make,r=e.rentalPrice,o=e.mileageMin,a=e.mileageMax;if(!t&&!r&&!o&&!a&&0===n.length)return n;var i=t?n.filter((function(n){return n.make.toLowerCase()===t})):(0,en.Z)(n),l=r?i.filter((function(n){return Number(n.rentalPrice.replace("$",""))<=Number(r)})):(0,en.Z)(i),c=o?l.filter((function(n){return Number(n.mileage)>=o})):(0,en.Z)(l),u=a?c.filter((function(n){return Number(n.mileage)<=a})):(0,en.Z)(c);return console.log(l),u}(t,{make:M,rentalPrice:C,mileageMin:S,mileageMax:P});w(n),d(!1)}}),[t,g,M,P,S,C]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(K,{setShowBtn:d,setFiltering:x}),g?Z.length>0?(0,y.jsx)(V.H,{data:Z}):(0,y.jsx)("p",{children:"Sorry, there\u2019s no vehicle available"}):(0,y.jsx)(V.H,{data:t}),r&&(0,y.jsx)(tn.a,{}),s&&!r&&(0,y.jsx)(nn,{currentPage:i,setCurrentPage:l,setShowBtn:d}),(0,y.jsx)(an,{})]})}}}]);
//# sourceMappingURL=73.868bf0f6.chunk.js.map