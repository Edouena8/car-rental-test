"use strict";(self.webpackChunkcar_rental_test=self.webpackChunkcar_rental_test||[]).push([[49],{49:function(n,e,r){r.r(e),r.d(e,{default:function(){return wn}});var t,i,a,o,l,s,c,d,u,h,p,x,f,g,b,v=r(5861),j=r(9439),m=r(4687),w=r.n(m),Z=r(2791),k=r(1413),C=r(168),y=r(225),S=r(1062),L=y.Z.div(t||(t=(0,C.Z)(["\n  width: ",";\n"])),(function(n){return n.width})),M=(0,y.Z)(S.ZP)(i||(i=(0,C.Z)([""]))),P=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),E=function(n){return n.map((function(n){return{value:n,label:n}}))},B=r(184),O=function(n){var e=n.textLabel,r=n.name,t=n.carBrand,i=n.width,a=n.value,o=n.handleChange,l=P.filter((function(n,e,r){return r.indexOf(n)===e})).sort(),s=E(l),c=E(function(){for(var n=[],e=30;e<=500;e+=10)n.push(e);return n}());return(0,B.jsxs)(L,{width:i,children:[(0,B.jsx)("label",{htmlFor:r,children:e}),(0,B.jsx)(M,{id:r,options:t?s:c,value:a,onChange:o,styles:{control:function(n){return(0,k.Z)((0,k.Z)({},n),{},{backgroundColor:"rgba(247, 247, 251, 1)",borderRadius:"14px",border:"none",height:"48px",output:"none"})},dropdownIndicator:function(n,e){return(0,k.Z)((0,k.Z)({},n),{},{transition:"transform 0.5s",transform:e.selectProps.menuIsOpen?"rotate(180deg)":"none"})}}})]})},F=r(948),I=y.Z.form(a||(a=(0,C.Z)(["\n  margin-bottom: 50px;\n  margin: 0 auto;\n  margin-bottom: 50px;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 18px;\n"]))),T=y.Z.div(o||(o=(0,C.Z)(["\n  text-align: left;\n"]))),D=y.Z.div(l||(l=(0,C.Z)(["\n  background-color: rgba(138, 138, 137, 0.2);\n  display: flex;\n  gap: 1px;\n\n  border: none;\n  border-radius: 14px;\n  overflow: hidden;\n"]))),z=y.Z.div(s||(s=(0,C.Z)(["\n  position: relative;\n"]))),A=y.Z.p(c||(c=(0,C.Z)(["\n  position: absolute;\n  left: 24px;\n  top: 15px;\n"]))),R=(0,y.Z)(F.h3)(d||(d=(0,C.Z)(["\n  background-color: rgba(247, 247, 251, 1);\n  padding-left: ",";\n  width: 160px;\n  height: 48px;\n  border: none;\n  outline: none;\n"])),(function(n){return n.padding})),$=y.Z.button(u||(u=(0,C.Z)(["\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: rgba(52, 112, 255, 1);\n  transition: background-color 250ms ease-in-out;\n  color: #fff;\n\n  &:hover {\n    background-color: rgba(11, 68, 205, 1);\n  }\n\n  &:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n"]))),_=function(n){var e=n.handleSearchBtn,r=n.isDisabled;return(0,B.jsx)($,{onClick:e,disabled:r,children:"Search"})},N=y.Z.button(h||(h=(0,C.Z)(["\n  height: 48px;\n  padding: 14px 44px;\n  align-self: end;\n  border-radius: 12px;\n  cursor: pointer;\n  border: none;\n\n  background-color: rgba(52, 112, 255, 1);\n  transition: background-color 250ms ease-in-out;\n  color: #fff;\n\n  &:hover {\n    background-color: rgba(11, 68, 205, 1);\n  }\n\n  &:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n"]))),W=function(n){var e=n.handleClearBtn,r=n.isDisabled;return(0,B.jsx)(N,{onClick:e,disabled:r,children:"Clear"})},H=r(9434),U=r(1634),q=r(7657),G=function(n){var e=n.setShowBtn,r=n.setFiltering,t=(0,H.I0)(),i=(0,Z.useState)({value:"",label:"Enter the text"}),a=(0,j.Z)(i,2),o=a[0],l=a[1],s=(0,Z.useState)({value:"",label:"To $"}),c=(0,j.Z)(s,2),d=c[0],u=c[1],h=(0,Z.useState)(""),p=(0,j.Z)(h,2),x=p[0],f=p[1],g=(0,Z.useState)(""),b=(0,j.Z)(g,2),v=b[0],m=b[1],w=(0,Z.useState)(""),k=(0,j.Z)(w,2),C=k[0],y=k[1],S=(0,Z.useState)(!0),L=(0,j.Z)(S,2),M=L[0],P=L[1];(0,Z.useEffect)((function(){"Enter the text"!==o.label||"To $"!==d.label||""!==v||""!==C?P(!1):P(!0)}),[o,C,v,d]);var E=function(n){var e=n.target.value;switch(n.target.name){case"mileageMin":m(e);break;case"mileageMax":y(e)}};return(0,B.jsxs)(I,{children:[(0,B.jsx)(O,{textLabel:"Car brand",name:"make",carBrand:!0,width:"224px",value:o,handleChange:function(n){l({value:n.value,label:n.value})}}),(0,B.jsx)(O,{textLabel:"Price/ 1 hour",name:"price",width:"125px",value:d,handleChange:function(n){var e="To ".concat(n.value,"$");u({value:e,label:e}),f(n.value)}}),(0,B.jsxs)(T,{children:[(0,B.jsx)("label",{htmlFor:"mileage",children:"Car mileage / km"}),(0,B.jsxs)(D,{children:[(0,B.jsxs)(z,{children:[(0,B.jsx)(A,{children:"From"}),(0,B.jsx)(R,{name:"mileageMin",id:"fromMileage",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,padding:"67px",value:v,onChange:E})]}),(0,B.jsxs)(z,{children:[(0,B.jsx)(A,{children:"To"}),(0,B.jsx)(R,{name:"mileageMax",id:"toMileage",padding:"45px",format:"##,###",maxLength:6,decimalScale:3,thousandSeparator:!0,value:C,onChange:E})]})]})]}),(0,B.jsx)(_,{isDisabled:M,handleSearchBtn:function(n){n.preventDefault();var e={make:o.value.toLowerCase().trim(),price:x||"500",mileageMin:v.split(",").join("")||"0",mileageMax:C.split(",").join("")||"99999"};t((0,U.Tv)(e)),r(!0)}}),(0,B.jsx)(W,{isDisabled:M,handleClearBtn:function(n){n.preventDefault(),t((0,q.fetchCarsFromFirstPage)()),l({value:"",label:"Enter the text"}),u({value:"",label:"To $"}),m(""),y(""),e(!0)}})]})},J=r(4164),K=y.Z.div(p||(p=(0,C.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(18, 20, 23, 0.5);\n"]))),V=y.Z.div(x||(x=(0,C.Z)(["\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-height: 752px;\n  max-width: 541px;\n  width: 100%;\n  padding: 40px;\n  background-color: #fff;\n  border-radius: 24px;\n"]))),Y=y.Z.button(f||(f=(0,C.Z)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n\n  border-radius: 50%;\n  background-color: transparent;\n  cursor: pointer;\n  border: none;\n"]))),Q=["title","titleId"];function X(){return X=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},X.apply(this,arguments)}function nn(n,e){if(null==n)return{};var r,t,i=function(n,e){if(null==n)return{};var r,t,i={},a=Object.keys(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||(i[r]=n[r]);return i}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}function en(n,e){var r=n.title,t=n.titleId,i=nn(n,Q);return Z.createElement("svg",X({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":t},i),r?Z.createElement("title",{id:t},r):null,g||(g=Z.createElement("path",{d:"M18 6L6 18",stroke:"#121417",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),b||(b=Z.createElement("path",{d:"M6 6L18 18",stroke:"#121417",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var rn,tn,an,on,ln=Z.forwardRef(en),sn=(r.p,document.querySelector("#modal-root")),cn=function(n){var e=n.onClose,r=n.children;return(0,Z.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]),(0,J.createPortal)((0,B.jsx)(K,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,B.jsxs)(V,{children:[(0,B.jsx)(Y,{onClick:e,children:(0,B.jsx)(ln,{})}),r]})}),sn)},dn=function(n){var e=n.car,r=n.onClose,t=e.id,i=e.img,a=e.make,o=e.model,l=e.year,s=e.rentalPrice,c=e.address,d=e.type,u=e.functionalities,h=e.fuelConsumption,p=e.engineSize,x=e.description,f=e.accessories,g=e.rentalConditions,b=e.mileage,v=c.split(","),j=v[2],m=v[1],w=g.split("\n"),Z=w[0].split(": "),k=b.toLocaleString("en-US");return(0,B.jsxs)("div",{children:[(0,B.jsx)("img",{src:i,alt:o,width:"461",height:"248"}),(0,B.jsxs)("h2",{children:[a," ",(0,B.jsx)("span",{children:o}),", ",l]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)("p",{children:[m," | ",j," | Id: ",t," | Year: ",l," | Type: ",d]}),(0,B.jsxs)("p",{children:["Fuel Consumption: ",h," | Engine Size: ",p]})]}),(0,B.jsx)("p",{children:x}),(0,B.jsx)("p",{children:"Accessories and functionalities:"}),(0,B.jsxs)("p",{children:[f[0]," | ",f[1]," | ",u[0]]}),(0,B.jsxs)("p",{children:[f[2]," | ",u[1]," | ",u[2]]}),(0,B.jsx)("h3",{children:"Rental Conditions: "}),(0,B.jsxs)("ul",{children:[(0,B.jsx)("li",{children:(0,B.jsxs)("p",{children:[Z[0],": ",(0,B.jsx)("span",{children:Z[1]})]})}),(0,B.jsx)("li",{children:(0,B.jsx)("p",{children:w[1]})}),(0,B.jsx)("li",{children:(0,B.jsx)("p",{children:w[2]})}),(0,B.jsx)("li",{children:(0,B.jsxs)("p",{children:["Mileage: ",(0,B.jsx)("span",{children:k})]})}),(0,B.jsx)("li",{children:(0,B.jsxs)("p",{children:["Price: ",(0,B.jsx)("span",{children:s})]})})]}),(0,B.jsx)("button",{onClick:r,children:"Rental Car"})]})},un=y.Z.li(rn||(rn=(0,C.Z)(["\n  width: 274px;\n"]))),hn=y.Z.p(tn||(tn=(0,C.Z)(["\n  font-size: 12px;\n  line-height: 1.5;\n  color: rgba(18, 20, 23, 0.5);\n  max-width: 90%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  overflow: hidden;\n  text-align: left;\n"]))),pn=function(n){var e=n.car,r=e.id,t=e.img,i=e.make,a=e.model,o=e.year,l=e.rentalPrice,s=e.address,c=e.rentalCompany,d=e.type,u=e.functionalities,h=(0,Z.useState)(!1),p=(0,j.Z)(h,2),x=p[0],f=p[1],g=s.split(","),b=g[1],v=g[2],m=function(){f((function(n){return!n}))};return(0,B.jsxs)(un,{children:[(0,B.jsx)("img",{src:t,alt:a,width:"274px",height:"268"}),(0,B.jsxs)("div",{children:[(0,B.jsxs)("h2",{children:[i," ",(0,B.jsx)("span",{children:a}),", ",o]}),(0,B.jsx)("p",{children:l})]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(hn,{children:[b," | ",v," | ",c]}),(0,B.jsxs)(hn,{children:[d," | ",a," | ",r," | ",u[0]]})]}),(0,B.jsx)("button",{onClick:m,children:"Learn more"}),x&&(0,B.jsx)(cn,{onClose:m,children:(0,B.jsx)(dn,{car:e,onClose:m})})]})},xn=y.Z.ul(an||(an=(0,C.Z)(["\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 29px;\n  row-gap: 50px;\n  justify-content: center;\n  margin-bottom: 100px;\n"]))),fn=function(n){var e=n.data;return(0,B.jsx)(xn,{children:e.map((function(n){return(0,B.jsx)(pn,{car:n},n.id)}))})},gn=function(n){return n.cars},bn=y.Z.button(on||(on=(0,C.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  color: rgba(52, 112, 255, 1);\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: color 250ms ease-in-out;\n\n  &:hover {\n    color: rgba(11, 68, 205, 1);\n  }\n"]))),vn=function(n){var e=n.currentPage,r=n.setCurrentPage,t=n.setShowBtn,i=(0,H.I0)(),a=function(){var n=(0,v.Z)(w().mark((function n(){var a,o;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i((0,q.fetchAllCars)(e+1));case 2:a=n.sent,o=a.payload,r((function(n){return n+1})),t(!(o<12));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,B.jsx)(bn,{onClick:a,children:"Load more"})},jn=function(n){return n.filter},mn=function(n,e){return n.filter((function(n){var r=n.rentalPrice,t=n.make,i=n.mileage,a=parseInt(r.replace(/\D+/g,""),10);return t.toLowerCase()===e.make&&a<=e.price&&i>e.mileageMin&&i<e.mileageMax}))},wn=function(){var n=(0,H.I0)(),e=(0,H.v9)(gn),r=e.cars,t=e.isLoading,i=(0,H.v9)(jn),a=(0,Z.useState)(1),o=(0,j.Z)(a,2),l=o[0],s=o[1],c=(0,Z.useState)(!0),d=(0,j.Z)(c,2),u=d[0],h=d[1],p=(0,Z.useState)(!1),x=(0,j.Z)(p,2),f=x[0],g=x[1],b=(0,Z.useState)([]),m=(0,j.Z)(b,2),k=m[0],C=m[1];return(0,Z.useEffect)((function(){1===l&&(n((0,q.fetchCarsFromFirstPage)()),h(!0))}),[l,n]),(0,Z.useEffect)((function(){f&&(0,v.Z)(w().mark((function e(){var r,t,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,q.fetchAllCarsForFilter)());case 2:return r=e.sent,t=r.payload,e.next=6,mn(t,i);case 6:a=e.sent,C(a);case 8:case"end":return e.stop()}}),e)})))()}),[n,i,f]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(G,{setShowBtn:h,setFiltering:g}),f?k.length>0?(0,B.jsx)(fn,{data:k}):(0,B.jsx)("p",{children:"Sorry, there\u2019s no vehicle available"}):(0,B.jsx)(fn,{data:r}),!f&&(t?(0,B.jsx)("div",{children:"Loading cars..."}):u?(0,B.jsx)(vn,{currentPage:l,setCurrentPage:s,setShowBtn:h}):(0,B.jsx)("p",{children:"The end of the list"}))]})}}}]);
//# sourceMappingURL=49.b0c1089f.chunk.js.map